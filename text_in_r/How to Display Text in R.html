<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0057)http://flowingdata.com/2013/10/22/working-with-text-in-r/ -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title> How to Display Text in R</title>
<meta name="generator" content="WordPress 3.8">  
<link rel="stylesheet" href="./How to Display Text in R_files/style.css" type="text/css" media="screen">
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://flowingdata.com/feed">
<link rel="pingback" href="http://flowingdata.com/xmlrpc.php">
<link rel="shortcut icon" href="http://flowingdata.com/wp-content/themes/flowingdata-4-8/images/favicon.ico">
<script src="./How to Display Text in R_files/quant.js" async="" type="text/javascript"></script><script async="" type="text/javascript" src="http://www.googletagservices.com/tag/js/gpt.js"></script><script type="text/javascript" src="./How to Display Text in R_files/jquery-1.4.4.min.js"></script>
<script type="text/javascript">
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    (function() {
    var gads = document.createElement('script');
    gads.async = true;
    gads.type = 'text/javascript';
    var useSSL = 'https:' == document.location.protocol;
    gads.src = (useSSL ? 'https:' : 'http:') + 
    '//www.googletagservices.com/tag/js/gpt.js';
    var node = document.getElementsByTagName('script')[0];
    node.parentNode.insertBefore(gads, node);
    })();
    </script>
<script type="text/javascript">
    googletag.cmd.push(function() {
    googletag.defineSlot('/2462688/Sidebar_rectangle', [300, 250], 'div-gpt-ad-1332011316310-2').addService(googletag.pubads());
    googletag.defineSlot('/2462688/Square1', [125, 125], 'div-gpt-ad-1332011316310-3').addService(googletag.pubads());
    googletag.defineSlot('/2462688/Square2', [125, 125], 'div-gpt-ad-1332011316310-4').addService(googletag.pubads());
    googletag.defineSlot('/2462688/Square3', [125, 125], 'div-gpt-ad-1332011316310-5').addService(googletag.pubads());
    googletag.defineSlot('/2462688/Square4', [125, 125], 'div-gpt-ad-1358209090048-5').addService(googletag.pubads());
googletag.defineSlot('/2462688/Bottom_Post', [300, 250], 'div-gpt-ad-1332011316310-0').addService(googletag.pubads());    googletag.pubads().enableSingleRequest();
    googletag.pubads().collapseEmptyDivs();
    googletag.enableServices();
    });
    </script>
<script type="text/javascript" src="./How to Display Text in R_files/comment-reply.min.js"></script>
<script type="text/javascript" src="./How to Display Text in R_files/jquery.js"></script>
<script type="text/javascript" src="./How to Display Text in R_files/jquery-migrate.min.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://flowingdata.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://flowingdata.com/wp-includes/wlwmanifest.xml">
<link rel="prev" title="Most popular girl names by state" href="http://flowingdata.com/2013/10/22/most-popular-girl-names-by-state/">
<link rel="next" title="Degrees of separation between athletes from different sports" href="http://flowingdata.com/2013/10/23/degrees-of-separation-between-athletes-from-different-sports/">
<meta name="generator" content="WordPress 3.8">
<link rel="canonical" href="./How to Display Text in R_files/How to Display Text in R.html">
<link rel="shortlink" href="http://flowingdata.com/?p=32561">
 <script type="text/javascript" src="./How to Display Text in R_files/democracy.js"></script><link rel="stylesheet" href="./How to Display Text in R_files/basic.css" type="text/css"><link rel="stylesheet" href="./How to Display Text in R_files/style(1).css" type="text/css"><link rel="stylesheet" href="./How to Display Text in R_files/wp-page-numbers.css" type="text/css" media="screen"><style type="text/css">img#wpstats{display:none}</style><link rel="stylesheet" type="text/css" href="./How to Display Text in R_files/shCore.css"><link rel="stylesheet" type="text/css" href="./How to Display Text in R_files/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style>
<style>#gznndqwyldijdcsaviailzmqlwytyvlxr{border:solid 2px #fff !important;box-sizing:content-box !important;color:#fff !important;display:block !important;height:auto !important;margin:0 !important;opacity:0.9 !important;padding:7px 10px !important;position:fixed !important;visibility:visible !important;width:auto !important;z-index:2147483647 !important;-webkit-border-radius:5px !important;-webkit-box-shadow:0px 0px 20px #000 !important;-webkit-box-sizing:content-box !important;}.gznndqwyldijdcsaviailzmqlwytyvlxr-blocked{color:#777 !important;display:inline !important;text-decoration:line-through !important;}#gznndqwyldijdcsaviailzmqlwytyvlxr br{display:block !important;}#gznndqwyldijdcsaviailzmqlwytyvlxr span{background:transparent !important;}#gznndqwyldijdcsaviailzmqlwytyvlxr div{border:0 !important;margin:0 !important;padding:0 !important;width:auto !important;letter-spacing:normal !important;font:13px Arial,Helvetica !important;text-align:left !important;text-shadow:none !important;text-transform:none !important;word-spacing:normal !important;}#gznndqwyldijdcsaviailzmqlwytyvlxr a{font-weight:normal !important;background:none !important;text-decoration:underline !important;color:#fff !important;}@media print{#gznndqwyldijdcsaviailzmqlwytyvlxr{display:none !important;}}</style></head><style type="text/css">embed[type*="application/x-shockwave-flash"],embed[src*=".swf"],object[type*="application/x-shockwave-flash"],object[codetype*="application/x-shockwave-flash"],object[src*=".swf"],object[codebase*="swflash.cab"],object[classid*="D27CDB6E-AE6D-11cf-96B8-444553540000"],object[classid*="d27cdb6e-ae6d-11cf-96b8-444553540000"],object[classid*="D27CDB6E-AE6D-11cf-96B8-444553540000"]{	display: none !important;}</style>
<body style=""><div id="lptopspacer88944737" style="height: 27px;"></div>
<a name="top"></a>
<div id="topnav">
<div id="topnav-content" class="content">
<div id="login" class="float-right">
<span id="username-meta">Logged in as <a href="http://flowingdata.com/profile/">abresler</a> &nbsp;&nbsp;</span>
<a href="http://flowingdata.com/wp-login.php?action=logout&_wpnonce=d018091d15">Log out</a> </div>
</div>
<div class="clear-line"></div>
</div> 
<div id="header">
<div id="header-content" class="content">
<div id="nav">
<a href="http://flowingdata.com/">
<img src="./How to Display Text in R_files/logo.png" class="float-left" scale="0">
</a>
<div id="pages" class="float-right">
<ul>
<li><a href="http://flowingdata.com/membership/">Membership</a></li>
<li><a href="http://flowingdata.com/learning/">Learning</a></li>
<li><a href="https://jobs.flowingdata.com/">Job Board</a></li>
<li><a href="http://flowingdata.com/category/projects/">Projects</a></li>
<li><a href="http://flowingdata.com/about/">About</a></li>
</ul>
</div> 
<div class="clear-line"></div>
</div> 
</div> 
</div> 
<div class="clear-line"></div>
<div id="main-wrapper">
<div id="content-wrapper" class="content">
<div class="post" id="post-32561">
<div id="content" class="single-long">
<div class="entry">
<div class="category">
<a href="http://flowingdata.com/category/tutorials/" title="View all posts in Tutorials" rel="category tag">Tutorials</a> &nbsp;/&nbsp; <a href="http://flowingdata.com/tag/r/" rel="tag">R</a>, <a href="http://flowingdata.com/tag/text/" rel="tag">text</a> <span class="members-note"><a href="http://flowingdata.com/members-only">Members Only</a></span> </div>
<h1>How to Display Text in R</h1>
<div class="clear-line"></div>
<div class="author">
By <strong>Nathan Yau</strong>
</div> 
<div id="lead-in">
<p class="img-right"><img src="./How to Display Text in R_files/Working-with-text2.png" class="attachment-long-form-thumb wp-post-image" alt="Working with text" width="425" height="293" src-orig="http://i1.wp.com/flowingdata.com/wp-content/uploads/2013/10/Working-with-text2.png?fit=425%2C9999" scale="2"></p>
<div class="entry-excerpt">
Text can provide much needed context to traditional visual cues and can be used as a visual cue itself in some cases. </div>
<div id="tut-meta">
<div class="button-link"><a href="http://flowingdata.com/2013/09/25/the-most-unisex-names-in-us-history/#areagraph">Demo</a></div>
<div class="button-link"><a href="http://flowingdata.com/?s2member_file_download=2013/201310labels-tutorial.zip">Download Source</a></div>
<div class="clear-line"></div>
</div> 
<div class="clear-line"></div>
</div> 
<div class="entry-content">
<p>With interactive charts, you have the benefit of a mouseover action, so that you can see what a visual cue represents. In the case of R, where most graphics are static, it can be useful to add text, usually in the form of labels to achieve the same effect.</p>
<p>The good news is that you can do almost everything you need with one function, <code>text()</code>. Learn how it works, and the rest of the work is figuring out the values you want to set.</p>
<h2>Basic usage</h2>
<p>So let's get to it. Create a plot window, and then add the text "Hello, world." at the x- and y-coordinate (1, 1). The first argument of <code>text()</code> is the x-coordinate, the second is the y-coordinate, and the third is the text you want to write.</p>
<div id="highlighter_361543" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_361543_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_361543" menu="false" src="http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments"># Hello, world.</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="functions">plot</code><code class="plain">(0, 0, type=</code><code class="string">"n"</code><code class="plain">, xlim=</code><code class="functions">c</code><code class="plain">(0, 2), ylim=</code><code class="functions">c</code><code class="plain">(0, 2), xlab=</code><code class="string">""</code><code class="plain">, ylab=</code><code class="string">""</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="functions">text</code><code class="plain">(1, 1, </code><code class="string">'Hello, world.'</code><code class="plain">)</code></td></tr></tbody></table></div></div></div>
<p></p>
<p>You get a blank plot with your text right in the middle.</p>
<p><span class="tip">Basic use of the <code>text()</code> function.</span><img src="./How to Display Text in R_files/01-Hello-world.png" alt="Hello world" class="alignnone size-full wp-image-32587" width="624" height="499" src-orig="http://i1.wp.com/flowingdata.com/wp-content/uploads/2013/10/01-Hello-world.png?resize=624%2C499" scale="2"></p>
<p>You'll want to write more than one phrase or label in most cases though. The most straightforward way to do this is to call <code>text()</code> multiple times.</p>
<div id="highlighter_497508" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_497508_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_497508" menu="false" src="http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments"># Hello, world. x3</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="functions">plot</code><code class="plain">(0, 0, type=</code><code class="string">"n"</code><code class="plain">, xlim=</code><code class="functions">c</code><code class="plain">(0, 2), ylim=</code><code class="functions">c</code><code class="plain">(0, 2), xlab=</code><code class="string">""</code><code class="plain">, ylab=</code><code class="string">""</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="functions">text</code><code class="plain">(1, 1, </code><code class="string">'Hello, world.'</code><code class="plain">)&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="comments"># Middle</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="functions">text</code><code class="plain">(1, 2, </code><code class="string">'Hello, top of world.'</code><code class="plain">)&nbsp; </code><code class="comments"># Top</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="functions">text</code><code class="plain">(1, 0, </code><code class="string">'Hello, bottom of world.'</code><code class="plain">)&nbsp;&nbsp; </code><code class="comments"># Bottom</code></td></tr></tbody></table></div></div></div>
<p></p>
<p>Notice that the x-coordinate, the first argument of <code>text()</code>, is set to 1 on all three calls. However, the y-coordinate and text are different, so you get text towards the top, in the middle, and on the bottom.</p>
<p><span class="tip">Change coordinates to shift positions of text within in the plot window.</span><img src="./How to Display Text in R_files/02-Position.png" alt="Position" class="alignnone size-full wp-image-32588" width="625" height="501" src-orig="http://i1.wp.com/flowingdata.com/wp-content/uploads/2013/10/02-Position.png?resize=625%2C501" scale="2"></p>
<p><span class="tip">A single call to <code>text()</code>, instead of a call for every label, becomes more useful when you have more text to print.</span>A more efficient way to do the above is to pass coordinates and text as vectors to just one call to <code>text()</code>. Set <code>x</code> to all the x-coordinates, <code>y</code> to all the y-coordinates, and the <code>labels</code> vector to the three snippets of text, equivalent to the above. Then pass the vectors to <code>text()</code>.</p>
<div id="highlighter_873703" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_873703_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_873703" menu="false" src="http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments"># Hello, world. x3 in one call</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="functions">plot</code><code class="plain">(0, 0, type=</code><code class="string">"n"</code><code class="plain">, xlim=</code><code class="functions">c</code><code class="plain">(0, 2), ylim=</code><code class="functions">c</code><code class="plain">(0, 2), xlab=</code><code class="string">""</code><code class="plain">, ylab=</code><code class="string">""</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">x &lt;- </code><code class="functions">c</code><code class="plain">(1, 1, 1)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">y &lt;- </code><code class="functions">c</code><code class="plain">(1, 2, 0)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">labels &lt;- </code><code class="functions">c</code><code class="plain">(</code><code class="string">'Hello, world.'</code><code class="plain">, </code><code class="string">'Hello, top of world.'</code><code class="plain">, </code><code class="string">'Hello, bottom of world.'</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="functions">text</code><code class="plain">(x, y, labels)</code></td></tr></tbody></table></div></div></div>
<p></p>
<p>This makes the same thing as above.</p>
<p><img src="./How to Display Text in R_files/03-Changing-text.png" alt="Changing text" class="alignnone size-full wp-image-32589" width="623" height="501" src-orig="http://i1.wp.com/flowingdata.com/wp-content/uploads/2013/10/03-Changing-text.png?resize=623%2C501" scale="2"></p>
<p>So far, all the text uses an Arial font, but it's easy to change that. Use the snippet below to see what typefaces are available on your computer.</p>
<div id="highlighter_34856" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_34856_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_34856" menu="false" src="http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments"># Available font families</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="functions">names</code><code class="plain">(</code><code class="functions">pdfFonts</code><code class="plain">())</code></td></tr></tbody></table></div></div></div>
<p></p>
<p>This provides a readable list, as shown below.</p>
<p><img src="./How to Display Text in R_files/04-Fonts.png" alt="Fonts" class="alignnone size-medium wp-image-32590" width="625" height="85" src-orig="http://i1.wp.com/flowingdata.com/wp-content/uploads/2013/10/04-Fonts.png?resize=625%2C85" scale="2"></p>
<p>Pick any font from the list, and then pass that as a value to the <code>family</code> argument in <code>text()</code>. In code below, you set the fonts to Courier, Helvetica, and Palatino.</p>
<div id="highlighter_77298" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_77298_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_77298" menu="false" src="http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="functions">plot</code><code class="plain">(0, 0, type=</code><code class="string">"n"</code><code class="plain">, xlim=</code><code class="functions">c</code><code class="plain">(0, 2), ylim=</code><code class="functions">c</code><code class="plain">(0, 2), xlab=</code><code class="string">""</code><code class="plain">, ylab=</code><code class="string">""</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="functions">text</code><code class="plain">(x, y, labels, family=</code><code class="string">'Courier'</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="functions">text</code><code class="plain">(1, 1.5, </code><code class="string">'Helvetica'</code><code class="plain">, family=</code><code class="string">'Helvetica'</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="functions">text</code><code class="plain">(1, 0.5, </code><code class="string">'Bookman'</code><code class="plain">, family=</code><code class="string">'Palatino'</code><code class="plain">)</code></td></tr></tbody></table></div></div></div>
<p></p>
<p>Notice that the "Hello, world" text still uses the same x- and y-coordinates as previous calls, but is now in Courier. And, just for the heck of it, text in Helvetica and Palatino are placed in between. Unlike the coordinates and labels, you can't pass a vector of fonts to one <code>text()</code> call. So if you want multiple fonts in a single plot, you must call <code>text()</code> multiple times with your desired fonts.</p>
<p><span class="tip">Changing fonts with the family argument.</span><img src="./How to Display Text in R_files/05-Combo.png" alt="Combo" class="alignnone size-full wp-image-32591" width="623" height="500" src-orig="http://i0.wp.com/flowingdata.com/wp-content/uploads/2013/10/05-Combo.png?resize=623%2C500" scale="2"></p>
<p>Next is size. Use the <code>cex</code> argument to change this. The value is relative to the normal size, where 1.0 is default, 0.5 would be half the normal size, and 2.0 is twice the size. Don't be surprised if you need to experiment to get the exact size you want.</p>
<div id="highlighter_252547" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_252547_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_252547" menu="false" src="http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments"># Font size</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="functions">plot</code><code class="plain">(0, 0, type=</code><code class="string">"n"</code><code class="plain">, xlim=</code><code class="functions">c</code><code class="plain">(0, 2), ylim=</code><code class="functions">c</code><code class="plain">(0, 2), xlab=</code><code class="string">""</code><code class="plain">, ylab=</code><code class="string">""</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="functions">text</code><code class="plain">(x, y, labels, family=</code><code class="string">'Courier'</code><code class="plain">, cex=1.0)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="functions">text</code><code class="plain">(1, 1.5, </code><code class="string">'Helvetica'</code><code class="plain">, family=</code><code class="string">'Helvetica'</code><code class="plain">, cex=3.0)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="functions">text</code><code class="plain">(1, 0.5, </code><code class="string">'Bookman'</code><code class="plain">, family=</code><code class="string">'Palatino'</code><code class="plain">, cex=0.5)</code></td></tr></tbody></table></div></div></div>
<p></p>
<p><span class="tip">Text printed with different fonts and sizes.</span><img src="./How to Display Text in R_files/06-Size.png" alt="Size" class="alignnone size-full wp-image-32592" width="625" height="502" src-orig="http://i0.wp.com/flowingdata.com/wp-content/uploads/2013/10/06-Size.png?resize=625%2C502" scale="2"></p>
<p>Label text, position, size, and font. Done. Now color. That's what the <code>col</code> argument is for.</p>
<div id="highlighter_556306" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_556306_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_556306" menu="false" src="http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments"># Color</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="functions">plot</code><code class="plain">(0, 0, type=</code><code class="string">"n"</code><code class="plain">, xlim=</code><code class="functions">c</code><code class="plain">(0, 2), ylim=</code><code class="functions">c</code><code class="plain">(0,20), xlab=</code><code class="string">""</code><code class="plain">, ylab=</code><code class="string">""</code><code class="plain">, xaxt=</code><code class="string">"n"</code><code class="plain">, yaxt=</code><code class="string">"n"</code><code class="plain">, bty=</code><code class="string">"n"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="functions">rect</code><code class="plain">(0, 0, 2, 30, col=</code><code class="string">"black"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="functions">for </code><code class="plain">(i </code><code class="keyword">in</code> <code class="plain">1:40) {</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="functions">text</code><code class="plain">(1, i/2, </code><code class="functions">colors</code><code class="plain">()[i], col=</code><code class="functions">colors</code><code class="plain">()[i], cex=</code><code class="functions">runif</code><code class="plain">(1, 0.2, 1.3))</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">}</code></td></tr></tbody></table></div></div></div>
<p></p>
<p>As you might expect, this gives you text of different colors and random sizes (from <code>runif()</code>).</p>
<p><span class="tip">Different colors and sizes are easy to change.</span><img src="./How to Display Text in R_files/07-Color.png" alt="Color" class="alignnone size-medium wp-image-32593" width="625" height="473" src-orig="http://i2.wp.com/flowingdata.com/wp-content/uploads/2013/10/07-Color.png?resize=625%2C473" scale="2"></p>
<p>Of course, random sizes and position for your text don't do you much good (usually). You might want to position or size based on actual data. For example, in <a href="http://flowingdata.com/2013/09/25/the-most-unisex-names-in-us-history/#areagraph">the streamgraph I made for unisex names over time</a>, names were sized by how many babies were given said name at birth.</p>
<h2>With real data</h2>
<p><span class="tip">When you size labels by data, it can be helpful to <a href="http://flowingdata.com/2010/12/17/right-versus-wrong-bubble-size/">think of it as area</a> so that you don't make labels too big or too small, relative to each other.</span>The code below loads the data from that chart and sizes names by the square root of usage. Position is still random.</p>
<div id="highlighter_430432" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_430432_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_430432" menu="false" src="http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments"># Put it into practice with real data</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="functions">load</code><code class="plain">(</code><code class="string">'unisexCnts.RData'</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">nameTotals &lt;- </code><code class="functions">rowSums</code><code class="plain">(unisexCnts)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="functions">plot</code><code class="plain">(0, 0, type=</code><code class="string">"n"</code><code class="plain">, xlim=</code><code class="functions">c</code><code class="plain">(-5, 105), ylim=</code><code class="functions">c</code><code class="plain">(-5,105), xlab=</code><code class="string">""</code><code class="plain">, ylab=</code><code class="string">""</code><code class="plain">, xaxt=</code><code class="string">"n"</code><code class="plain">, yaxt=</code><code class="string">"n"</code><code class="plain">, bty=</code><code class="string">"n"</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">x &lt;- </code><code class="functions">runif</code><code class="plain">(</code><code class="functions">length</code><code class="plain">(nameTotals), 0, 100)</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>6</code></td><td class="content"><code class="plain">y &lt;- </code><code class="functions">runif</code><code class="plain">(</code><code class="functions">length</code><code class="plain">(nameTotals), 0, 100)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>7</code></td><td class="content"><code class="functions">text</code><code class="plain">(x, y, </code><code class="functions">names</code><code class="plain">(nameTotals), cex=2*</code><code class="functions">sqrt</code><code class="plain">(nameTotals/</code><code class="functions">max</code><code class="plain">(nameTotals)))</code></td></tr></tbody></table></div></div></div>
<p></p>
<p><img src="./How to Display Text in R_files/08-Position.png" alt="Position" class="alignnone size-medium wp-image-32594" width="625" height="416" src-orig="http://i1.wp.com/flowingdata.com/wp-content/uploads/2013/10/08-Position.png?resize=625%2C416" scale="2"></p>
<p>Finally, you can apply everything you learned above to labels for the streamgraph, which we covered in <a href="http://flowingdata.com/2012/07/03/a-variety-of-area-charts-with-r/">the area graph tutorial</a>. I won't go through the code for the streamgraph again, but the updated version is included in areagraph.R of this tutorial's download. The difference is at lines 117 to 121, which stores positions at the middle of each layer's peak. Then lines 128 to 131 uses <code>text()</code> to place all the labels.</p>
<p>Load the new areagraph.R and the call is the same, as shown below.</p>
<div id="highlighter_218350" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#viewSource" title="view source" class="item viewSource" style="width: 16px; height: 16px;">view source</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_218350_clipboard" type="application/x-shockwave-flash" title="copy to clipboard" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_218350" menu="false" src="http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf"></div><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#printSource" title="print" class="item printSource" style="width: 16px; height: 16px;">print</a><a href="http://flowingdata.com/2013/10/22/working-with-text-in-r/#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="comments"># Supplement the area graph (<a href="http://datafl.ws/21a">http://datafl.ws/21a</a>) with labels</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="functions">source</code><code class="plain">(</code><code class="string">'areagraph.R'</code><code class="plain">)</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="functions">areaGraph</code><code class="plain">(unisexCnts)</code></td></tr></tbody></table></div></div></div>
<p></p>
<p>And here's what you get:</p>
<p><a href="http://flowingdata.com/2013/09/25/the-most-unisex-names-in-us-history/#areagraph"><img src="./How to Display Text in R_files/09-Area-chart.png" alt="09-Area chart" class="alignnone size-medium wp-image-32595" width="625" height="408" src-orig="http://i1.wp.com/flowingdata.com/wp-content/uploads/2013/10/09-Area-chart.png?resize=625%2C408" scale="2"></a></p>
<h2>Wrapping up</h2>
<p>As you can see, working with in text is relatively straightforward. You do everything with one function call, and the rest of the time you figure out where to place your text, what you want the labels to show, the color, size, and font.</p>
<div class="clear-line"></div>
</div> 
</div> 
<div class="clear-line"></div>
<div id="end"></div>
 
<span id="comments"></span>
<div style="width:625px">
</div>
</div>
</div> 
</div> 
</div> 
<div id="footer">
<div id="footer-container" class="content">
<div class="float-left" style="width:32%;margin-right:5%;">
<div id="about" class="sec">
<h3>About</h3>
<p>FlowingData explores how designers, statisticians, and computer scientists are using data to understand ourselves better — mainly through data visualization.</p>
<p>As for me, I'm Nathan Yau, and I have a PhD in statistics, with a background in eating.</p>
<p><a href="http://flowingdata.com/about/">More...</a></p>
</div>
</div>
<div class="float-left" style="width:36%;margin-right:5%;">
<div id="book-single" class="sec">
<h3>Books</h3>
<ul id="books" style="margin-bottom:0">
<li>
<a href="http://flowingdata.com/data-points/"><img src="./How to Display Text in R_files/DataPoints60x75.png" title="Data Points" class="img-left" style="margin-bottom:0" scale="0"><strong>Data Points</strong><br>Visualization that Means Something</a><br>
<div class="clear-line"></div>
</li>
<li><a href="http://flowingdata.com/visualize-this/"><img src="./How to Display Text in R_files/flowingdata60x79.jpg" title="Visualize This" class="img-left" style="margin-bottom:0" scale="0"><strong>Visualize This</strong><br>The FlowingData Guide to Design, Visualization, and Statistics</a><br>
<div class="clear-line"></div>
</li>
</ul>
</div> 
</div>
<div class="float-left" style="width:22%">
<div id="follow" class="sec">
<h3>Follow</h3>
<p>
<a href="http://twitter.com/flowingdata">Twitter</a> &nbsp;•&nbsp;
<a href="http://facebook.com/flowingdata">Facebook</a> &nbsp;•&nbsp;
<a href="http://eepurl.com/icL0o">Email</a> &nbsp;•&nbsp;
<a href="http://flowingdata.com/feed">RSS</a>
</p>
</div>
<div id="misc" class="sec">
<h3>Miscellaneous</h3>
<a href="http://flowingdata.com/contact">Contact</a> &nbsp;•&nbsp;
<a href="http://flowingdata.com/advertise">Sponsorship</a> &nbsp;•&nbsp;
<a href="http://flowingdata.bigcartel.com/">Shop</a><a>
</a></div><a>
</a></div><a>
<div class="clear-line"></div>
</a></div><a> 
</a></div><a> 
</a><div id="bottom"><a>
Unless otherwise noted, graphics and words by me are licensed under </a><a href="http://creativecommons.org/licenses/by-nc/3.0/us/">Creative Commons BY-NC</a>. Contact original authors for everything else.
</div>
 
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./How to Display Text in R_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-865100-4");
pageTracker._initData();
pageTracker._trackPageview();
</script>
<script type="text/javascript" src="./How to Display Text in R_files/shCore.js"></script>
<script type="text/javascript" src="./How to Display Text in R_files/shBrushR.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/styles/shCore.css?ver=2.1.364";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/styles/shThemeDefault.css?ver=2.1.364";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.clipboardSwf = 'http://flowingdata.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf';
	SyntaxHighlighter.config.strings.expandSource = 'show source';
	SyntaxHighlighter.config.strings.viewSource = 'view source';
	SyntaxHighlighter.config.strings.copyToClipboard = 'copy to clipboard';
	SyntaxHighlighter.config.strings.copyToClipboardConfirmation = 'The code is in your clipboard now';
	SyntaxHighlighter.config.strings.print = 'print';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.all();
</script>
<script type="text/javascript" src="./How to Display Text in R_files/photon.js"></script>
<script type="text/javascript" src="./How to Display Text in R_files/devicepx-jetpack.js"></script>
<script src="./How to Display Text in R_files/e-201350.js" type="text/javascript"></script>
<script type="text/javascript">
	st_go({v:'ext',j:'1:2.7',blog:'1938889',post:'32561',tz:'-8'});
	var load_cmc = function(){linktracker_init(1938889,32561,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script><img id="wpstats" src="./How to Display Text in R_files/g.gif" alt="" scale="0">
<script>try{function lpshowmenudiv(id){   closelpmenus(id);   var div = document.getElementById('lppopup'+id);   var btn = document.getElementById('lp'+id);   if(btn && div){     var btnstyle = window.getComputedStyle(btn, null);     var divstyle = window.getComputedStyle(div, null);     var posx = btn.offsetLeft;     posx -= 80;     var divwidth = parseInt(divstyle.getPropertyValue('width'));     if(posx + divwidth > window.innerWidth - 25){       posx -= ((posx + divwidth) - window.innerWidth + 25);     }     div.style.left = posx + "px";     div.style.top = (btn.offsetTop + parseInt(btnstyle.getPropertyValue('height'))) + "px";         if(div.style.display=='block'){div.style.display = 'none'; if(typeof(slideup)=='function'){slideup();} }    else div.style.display = 'block';       } }function closelpmenus(id){   if(typeof(lpgblmenus)!='undefined'){     for(var i=0; i < lpgblmenus.length; i++){       if((id==null || lpgblmenus[i]!='lppopup'+id) && document.getElementById(lpgblmenus[i]))         document.getElementById(lpgblmenus[i]).style.display = 'none';     }   }} var lpcustomEvent = document.createEvent('Event'); lpcustomEvent.initEvent('lpCustomEventMenu', true, true); }catch(e){}</script><script>try{if(typeof(lpgblmenus)=='undefined'){ lpgblmenus = new Array(); }   lpgblmenus[lpgblmenus.length] = 'lppopupnever';   }catch(e){}</script><script>try{document.addEventListener('mouseup', function(e){ if(typeof(closelpmenus)=='function'){closelpmenus();}}, false)}catch(e){}</script><div id="lpiframeoverlay88944737" style="top: 0px; left: 0px; height: 1px; width: 100%; position: fixed; background-color: black; z-index: 1000000099; visibility: visible;"><iframe id="lpiframe88944737" src="./How to Display Text in R_files/overlay.html" scrolling="no" style="height: 27px; width: 1278px; border: 0px;"></iframe></div></body></html>